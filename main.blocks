<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="startUp();" numlines="1"></mutation></block></statement></block><block type="device_forever" x="1326" y="20"><statement name="HANDLER"><block type="device_pause"><comment>touchStatus = RainbowSparkleUnicorn.Touch.getTouchStates()
switchStatus = RainbowSparkleUnicorn.Switch.getSwitchStates()</comment><value name="pause"><shadow type="timePicker"><field name="ms">50</field></shadow></value></block></statement></block><block type="device_forever" x="1923" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the circular lights</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="ringLights();" numlines="1"></mutation></block></next></block></statement></block><block type="device_forever" x="2485" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the volume</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="volumeControl();" numlines="1"></mutation><next><block type="device_pause"><value name="pause"><shadow type="timePicker"><field name="ms">500</field></shadow></value></block></next></block></next></block></statement></block><block type="device_forever" x="3544" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the artificial horizon</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="artificialHorizon();" numlines="1"></mutation></block></next></block></statement></block><block type="device_forever" x="4097" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the pressure gauge</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pressureGauge();" numlines="1"></mutation></block></next></block></statement></block><block type="device_forever" x="5081" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the sounds</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="soundControl();" numlines="1"></mutation><next><block type="device_pause"><value name="pause"><shadow type="timePicker"><field name="ms">1000</field></shadow></value></block></next></block></next></block></statement></block><block type="device_forever" x="5727" y="20"><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment"><value name="theComment"><shadow type="text"><field name="TEXT">This loop controls the fuel gauge</field></shadow></value><next><block type="typescript_statement" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sortOutFuelLights();" numlines="1"></mutation><next><block type="device_pause"><value name="pause"><shadow type="timePicker"><field name="ms">500</field></shadow></value></block></next></block></next></block></statement></block><block type="control_on_event" disabled="true" x="7065" y="2969"><value name="src"><shadow type="control_event_source_id"/><block type="math_number" disabled="true"><field name="NUM">5550</field></block></value><value name="value"><shadow type="control_event_value_id" disabled="true"><field name="id">EventBusValue.MICROBIT_EVT_ANY</field></shadow></value><statement name="HANDLER"><block type="RainbowSparkleUnicorn_Light_turnOff" disabled="true"><field name="pin">lightPins.P13</field><comment>Pink Right Light</comment><next><block type="RainbowSparkleUnicorn_Light_blink" disabled="true"><field name="pin">lightPins.P13</field><value name="timeOn"><shadow type="math_number" disabled="true"><field name="NUM">500</field></shadow></value><value name="timeOff"><shadow type="math_number" disabled="true"><field name="NUM">500</field></shadow></value><next><block type="RainbowSparkleUnicorn_Light_turnOff" disabled="true"><field name="pin">lightPins.P14</field><comment>Pink Left Light</comment><next><block type="RainbowSparkleUnicorn_Light_blink" disabled="true"><field name="pin">lightPins.P14</field><value name="timeOn"><shadow type="math_number" disabled="true"><field name="NUM">500</field></shadow></value><value name="timeOff"><shadow type="math_number" disabled="true"><field name="NUM">500</field></shadow></value><next><block type="variables_set" disabled="true"><field name="VAR" id="59kF21$3x#:ed**DZSf-">IoTConnected</field><comment>RainbowSparkleUnicorn.IoT.connectToInterWeb(
"152 2.4GHz",
"derwenthorpe",
"robotmqtt",
"public",
"public",
"Spaceship Console"
)
RainbowSparkleUnicorn.IoT.startReceivingMessages("spaceship-console/rx")</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" disabled="true"><field name="BOOL">TRUE</field></block></value><next><block type="RainbowSparkleUnicorn_Light_turnOff" disabled="true"><field name="pin">lightPins.P13</field><next><block type="RainbowSparkleUnicorn_Light_turnOff" disabled="true"><field name="pin">lightPins.P14</field><next><block type="function_call" disabled="true"><mutation name="sortOutFuelLights" functionid="[/jQ7M$jK5n!t/mR7%%%"/></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="2802" y="8867"><field name="pin">switchPins.P3</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/alert", "Yellow Alert")</comment><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment" disabled="true"><value name="theComment"><shadow type="text" disabled="true"><field name="TEXT">Press white spinner to warp back to yellow</field></shadow></value><next><block type="variables_set" disabled="true"><field name="VAR" id="})_MX{3.gx9bc#:!h2u,">consoleState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" disabled="true"><field name="TEXT">YellowAlert</field></block></value><next><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">3</field></shadow></value></block></next></block></next></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="3408" y="8867"><field name="pin">switchPins.P9</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/buttons", "Red Button")</comment><statement name="HANDLER"><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">9</field></shadow></value></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="3766" y="8867"><field name="pin">switchPins.P10</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/buttons", "Green Button")</comment><statement name="HANDLER"><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">10</field></shadow></value></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="4133" y="8867"><field name="pin">switchPins.P1</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/alert", "Red Alert")</comment><statement name="HANDLER"><block type="variables_set" disabled="true"><field name="VAR" id="})_MX{3.gx9bc#:!h2u,">consoleState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" disabled="true"><field name="TEXT">RedAlert</field></block></value><next><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">1</field></shadow></value></block></next></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="4585" y="8867"><field name="pin">switchPins.P13</field><statement name="HANDLER"><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">13</field></shadow></value><next><block type="function_call" disabled="true"><mutation name="sortOutFuelLights" functionid="[/jQ7M$jK5n!t/mR7%%%"/></block></next></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="4919" y="8867"><field name="pin">switchPins.P0</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/alert", "Normal")</comment><statement name="HANDLER"><block type="RainbowSparkleUnicorn_comment" disabled="true"><value name="theComment"><shadow type="text" disabled="true"><field name="TEXT">Press red spinner to warp back to green</field></shadow></value><next><block type="variables_set" disabled="true"><field name="VAR" id="})_MX{3.gx9bc#:!h2u,">consoleState</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" disabled="true"><field name="TEXT">Normal</field></block></value><next><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow></value></block></next></block></next></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="5499" y="8867"><field name="pin">switchPins.P11</field><comment>RainbowSparkleUnicorn.IoT.sendMQTTMessage("spaceship-console/buttons", "Blue Button")</comment><statement name="HANDLER"><block type="device_show_number" disabled="true"><value name="number"><shadow type="math_number" disabled="true"><field name="NUM">11</field></shadow></value></block></statement></block><block type="RainbowSparkleUnicorn_Switch_onSwitchPressed" disabled="true" x="5866" y="8867"><field name="pin">switchPins.P8</field><statement name="HANDLER"><block type="function_call" disabled="true"><mutation name="sortOutFuelLights" functionid="[/jQ7M$jK5n!t/mR7%%%"/></block></statement></block></xml>